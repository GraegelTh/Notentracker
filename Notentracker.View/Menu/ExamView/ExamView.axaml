<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="Notentracker.View.Menu.ExamView.ExamView">
    <StackPanel Margin="20" Spacing="15">

        <TextBlock Text="üìÖ Pr√ºfungsplan" FontSize="22" FontWeight="Bold" Foreground="White"/>

        <!-- Inputs -->
        <StackPanel Orientation="Horizontal" Spacing="10">
            <TextBox x:Name="TitleInput" Width="200" Watermark="Titel (z.B. Mathe-Test)" />
            <DatePicker x:Name="DateInput" Width="300" Height="36" />
            <ComboBox x:Name="SubjectComboBox"
                      Width="180"
                      Height="36"
                      ItemsSource="{Binding Subjects}"
                      SelectedItem="{Binding SelectedSubject}">
                <ComboBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding Name}" />
                    </DataTemplate>
                </ComboBox.ItemTemplate>
            </ComboBox>
            <ComboBox x:Name="CategoryInput"
                      Width="150"
                      Height="36"
                      SelectedIndex="0">
                <ComboBox.Items>
                    <x:String>Schulaufgabe</x:String>
                    <x:String>Projekt</x:String>
                    <x:String>Pr√§sentation</x:String>
                    <x:String>Abgabe</x:String>
                </ComboBox.Items>
            </ComboBox>
            <Button Content="‚ûï Hinzuf√ºgen" Click="OnAddClick" />
        </StackPanel>
        

        <!-- List of events -->
        <TabControl Margin="0,10,0,0">
            <!-- Tab 1: Upcoming -->
            <TabItem Header="üìÖ Offene Termine">
                <ListBox x:Name="EventList"
                         MaxHeight="500"
                         BorderThickness="0"
                         Background="Transparent"
                         Margin="5">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#333" Padding="8" Margin="4" CornerRadius="6">
                                <StackPanel Orientation="Horizontal" Spacing="15">
                                    <TextBlock Text="{Binding Date, StringFormat=d}" Width="100" Foreground="White"/>
                                    <TextBlock Text="{Binding Subject.Name}" Width="120" Foreground="White"/>
                                    <TextBlock Text="{Binding Category}" Width="100" Foreground="White"/>
                                    <TextBlock Text="{Binding Title}" Width="180" Foreground="White"/>
                                    <Button Content="üóëÔ∏è" Click="OnDeleteClick" Tag="{Binding}" Width="40" Background="#922" Foreground="White"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </TabItem>

            <!-- Tab 2: Completed -->
            <TabItem Header="‚úÖ Abgeschlossene Termine">
                <ListBox x:Name="CompletedList"
                         MaxHeight="500"
                         BorderThickness="0"
                         Background="Transparent"
                         Margin="5">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#2B2B2B" Padding="8" Margin="4" CornerRadius="6">
                                <StackPanel Orientation="Horizontal" Spacing="15">
                                    <TextBlock Text="{Binding Date, StringFormat=d}" Width="100" Foreground="Gray"/>
                                    <TextBlock Text="{Binding Subject.Name}" Width="120" Foreground="Gray"/>
                                    <TextBlock Text="{Binding Category}" Width="100" Foreground="Gray"/>
                                    <TextBlock Text="{Binding Title}" Width="180" Foreground="Gray"/>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </TabItem>
        </TabControl>

    </StackPanel>
</UserControl>